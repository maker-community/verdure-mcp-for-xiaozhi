@using Microsoft.Extensions.Localization
@using Verdure.McpPlatform.Web.Resources
@using MudBlazor
@inject IStringLocalizer<SharedResources> Loc

<MudDialog>
    <DialogContent>
        <div style="padding: 8px 0;">
            <!-- Service Name Header -->
            <div class="d-flex align-center mb-4" style="gap: 12px;">
                <MudIcon Icon="@Icons.Material.Outlined.Extension" 
                         Color="Color.Primary" 
                         Size="Size.Large" />
                <div>
                    <MudText Typo="Typo.h6" Style="font-weight: 600; color: var(--m3-on-surface);">
                        @ServiceName
                    </MudText>
                    <MudText Typo="Typo.body2" Color="Color.Secondary">
                        @string.Format(Loc["ToolsCount"], ToolNames.Count)
                    </MudText>
                </div>
            </div>
            
            <MudDivider Class="mb-4" />
            
            <!-- Tools List -->
            @if (ToolNames.Any())
            {
                <div class="d-flex flex-column" style="gap: 8px;">
                    @foreach (var tool in ToolNames.OrderBy(t => t))
                    {
                        <div class="d-flex align-center tool-item" 
                             style="padding: 12px 16px; 
                                 background: rgba(var(--m3-primary-rgb), 0.04); 
                                    border-radius: 8px; 
                                 border-left: 3px solid var(--m3-primary);">
                            <MudIcon Icon="@Icons.Material.Filled.Build" 
                                     Size="Size.Small" 
                                     Color="Color.Primary" 
                                     Class="mr-3" />
                            <MudText Typo="Typo.body2" 
                                     Style="color: var(--m3-on-surface-variant);">
                                @tool
                            </MudText>
                        </div>
                    }
                </div>
            }
            else
            {
                <div class="d-flex flex-column align-center justify-center" style="padding: 40px 0;">
                    <MudIcon Icon="@Icons.Material.Outlined.BuildCircle" 
                             Size="Size.Large" 
                             Color="Color.Default" 
                             Class="mb-3" />
                    <MudText Typo="Typo.body1" Color="Color.Secondary">
                        @Loc["NoToolsSelected"]
                    </MudText>
                </div>
            }
        </div>
    </DialogContent>
</MudDialog>

<style>
    .tool-item {
        transition: all 0.2s ease;
    }
    
    .tool-item:hover {
        background: rgba(var(--m3-primary-rgb), 0.08) !important;
        transform: translateX(4px);
        border-left-color: var(--m3-primary-dark) !important;
    }
</style>

@code {
    [CascadingParameter]
    private MudBlazor.IDialogReference? MudDialog { get; set; }
    
    [Parameter]
    public string ServiceName { get; set; } = string.Empty;
    
    [Parameter]
    public List<string> ToolNames { get; set; } = new();
}
