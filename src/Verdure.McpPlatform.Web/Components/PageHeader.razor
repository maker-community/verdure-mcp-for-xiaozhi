@using Microsoft.Extensions.Localization
@using Verdure.McpPlatform.Web.Resources
@using MudBlazor
@inject IStringLocalizer<SharedResources> Loc

<MudCard Elevation="2" 
         Class="m3-mb-xl m3-hero-card">
    <MudCardContent Class="pa-3 pa-sm-4 pa-md-6">
        <div class="d-flex flex-column flex-sm-row justify-space-between align-start align-sm-center" Style="gap: 0.75rem;">
            <!-- Title Section -->
            <div class="flex-grow-1" style="min-width: 0;">
                 <MudText Typo="@(IsSmallScreen ? Typo.h5 : Typo.h4)" 
                        Class="m3-mb-xs m3-mb-sm-sm m3-hero-title" 
                        Style="font-weight: 600; word-break: break-word;">
                    <MudIcon Icon="@Icon" Class="mr-2 m3-hero-icon" Style="vertical-align: middle;" /> 
                    <span style="vertical-align: middle;">@Title</span>
                </MudText>
                <MudText Typo="@(IsSmallScreen ? Typo.body2 : Typo.body1)" 
                        Class="m3-hero-subtitle" Style="font-weight: 400;">
                    @if (TotalCount > 0)
                    {
                        <span>@CountMessage</span>
                    }
                    else
                    {
                        <span>@EmptyMessage</span>
                    }
                </MudText>
            </div>
            
            <!-- Action Button -->
            @if (!string.IsNullOrEmpty(ActionHref))
            {
                <MudButton Href="@ActionHref" 
                          Variant="Variant.Filled" 
                          Class="@(IsSmallScreen ? "m3-hero-action m3-button" : "m3-hero-action m3-button-lg")"
                          StartIcon="@Icons.Material.Filled.Add"
                          Size="@(IsSmallScreen ? Size.Medium : Size.Large)"
                          FullWidth="@IsSmallScreen">
                    @ActionText
                </MudButton>
            }
        </div>
    </MudCardContent>
</MudCard>

@code {
    [Parameter]
    public string Icon { get; set; } = Icons.Material.Outlined.Dns;
    
    [Parameter]
    public string Title { get; set; } = "";
    
    [Parameter]
    public int TotalCount { get; set; }
    
    [Parameter]
    public string CountMessage { get; set; } = "";
    
    [Parameter]
    public string EmptyMessage { get; set; } = "";
    
    [Parameter]
    public string ActionHref { get; set; } = "";
    
    [Parameter]
    public string ActionText { get; set; } = "";
    
    [Parameter]
    public bool IsSmallScreen { get; set; }
}
