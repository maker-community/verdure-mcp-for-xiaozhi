@using Microsoft.Extensions.Localization
@using Verdure.McpPlatform.Web.Resources
@inject IStringLocalizer<SharedResources> Loc

<MudNavMenu Class="pa-2">
    <!-- M3 导航标题 -->
    <div class="m3-nav-section-title">
        @Loc["Navigation"]
    </div>
    
    <!-- M3 导航链接 - Dashboard -->
    <MudNavLink Href="/" 
                Match="NavLinkMatch.All" 
                Icon="@Icons.Material.Outlined.Dashboard"
                IconColor="Color.Primary"
                Class="m3-nav-item">
        @Loc["Dashboard"]
    </MudNavLink>
    
    <AuthorizeView>
        <Authorized>
            <!-- M3 分组标题 -->
            <div class="m3-nav-section-title" style="margin-top: var(--m3-spacing-lg);">
                @Loc["McpManagement"]
            </div>
            
            <!-- M3 导航链接 - Xiaozhi Connections -->
            <MudNavLink Href="/connections" 
                        Icon="@Icons.Material.Outlined.Dns"
                        IconColor="Color.Primary"
                        Class="m3-nav-item">
                @Loc["XiaozhiConnections"]
            </MudNavLink>
            
            <!-- M3 导航链接 - MCP Services -->
            <MudNavLink Href="/service-bindings" 
                        Icon="@Icons.Material.Outlined.Extension"
                        IconColor="Color.Secondary"
                        Class="m3-nav-item">
                @Loc["McpServices"]
            </MudNavLink>
            
            <!-- M3 分隔线 -->
            <MudDivider Class="my-4" Style="opacity: 0.12;" />
            
            <!-- M3 导航链接 - Settings -->
            <MudNavLink Href="/settings" 
                        Icon="@Icons.Material.Outlined.Settings"
                        IconColor="Color.Default"
                        Class="m3-nav-item">
                @Loc["Settings"]
            </MudNavLink>
            
            <!-- M3 导航链接 - Logout -->
            <MudNavLink Href="/logout" 
                        Icon="@Icons.Material.Outlined.Logout"
                        IconColor="Color.Error"
                        Class="m3-nav-item">
                @Loc["Logout"]
            </MudNavLink>
        </Authorized>
        <NotAuthorized>
            <MudNavLink Href="/login" 
                        Icon="@Icons.Material.Outlined.Login"
                        IconColor="Color.Primary"
                        Class="m3-nav-item">
                @Loc["Login"]
            </MudNavLink>
        </NotAuthorized>
    </AuthorizeView>
</MudNavMenu>
