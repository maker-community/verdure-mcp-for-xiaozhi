@page "/"
@layout LandingLayout
@using Microsoft.Extensions.Localization
@using Verdure.McpPlatform.Web.Resources
@inject IStringLocalizer<SharedResources> Loc

<PageTitle>@Loc["AppTitle"]</PageTitle>

<!-- Hero Section - 全宽大气背景 -->
        <div Style="background: linear-gradient(135deg, #1976D2 0%, #1565C0 100%); padding: 120px 0 100px;">
            <MudContainer MaxWidth="MaxWidth.ExtraLarge">
            <MudGrid Justify="Justify.Center">
                <MudItem xs="12" md="10" lg="8">
                    <div class="text-center">
                        <MudIcon Icon="@Icons.Material.Filled.Cloud" 
                                Size="Size.Large" 
                                Style="font-size: 6rem; margin-bottom: 1.5rem; color: rgba(255,255,255,0.95);" />
                        <MudText Typo="Typo.h2" Class="mb-4" Style="font-weight: 600; color: #FFFFFF;">
                            Verdure MCP Platform
                        </MudText>
                        <MudText Typo="Typo.h5" Class="mb-6" Style="color: rgba(255,255,255,0.9);">
                            开源的多租户 MCP 服务管理平台
                        </MudText>
                        <MudText Typo="Typo.body1" Class="mb-8" Style="max-width: 700px; margin: 0 auto; color: rgba(255,255,255,0.85); font-size: 1.1rem;">
                            基于 .NET 9 和 Blazor WebAssembly 构建，为小智 AI 助手提供灵活的 Model Context Protocol 服务配置和管理能力
                        </MudText>
                        <AuthorizeView>
                            <Authorized>
                                <div class="d-flex justify-center gap-4 flex-wrap mb-4">
                                    <MudButton Href="/dashboard" 
                                              Variant="Variant.Filled" 
                                              Color="Color.Surface" 
                                              Size="Size.Large"
                                              Style="color: #1976D2; font-weight: 600; padding: 12px 32px;"
                                              StartIcon="@Icons.Material.Filled.Dashboard">
                                        进入控制台
                                    </MudButton>
                                    <MudButton Href="https://github.com/maker-community/verdure-mcp-for-xiaozhi" 
                                              Target="_blank"
                                              Variant="Variant.Outlined" 
                                              Size="Size.Large"
                                              Style="border-color: rgba(255,255,255,0.5); color: #FFFFFF; font-weight: 600; padding: 12px 32px;"
                                              StartIcon="@Icons.Material.Filled.Code">
                                        查看源码
                                    </MudButton>
                                </div>
                            </Authorized>
                            <NotAuthorized>
                                <div class="d-flex justify-center gap-4 flex-wrap mb-4">
                                    <MudButton Href="authentication/login" 
                                              Variant="Variant.Filled" 
                                              Color="Color.Surface" 
                                              Size="Size.Large"
                                              Style="color: #1976D2; font-weight: 600; padding: 12px 32px;"
                                              StartIcon="@Icons.Material.Filled.Login">
                                        立即开始使用
                                    </MudButton>
                                    <MudButton Href="https://github.com/maker-community/verdure-mcp-for-xiaozhi" 
                                              Target="_blank"
                                              Variant="Variant.Outlined" 
                                              Size="Size.Large"
                                              Style="border-color: rgba(255,255,255,0.5); color: #FFFFFF; font-weight: 600; padding: 12px 32px;"
                                              StartIcon="@Icons.Material.Filled.Code">
                                        查看源码
                                    </MudButton>
                                </div>
                            </NotAuthorized>
                        </AuthorizeView>
                    </div>
                </MudItem>
            </MudGrid>
        </MudContainer>
        </div>

        <!-- Features Section -->
        <div id="features" Style="padding: 80px 0; background: #FFFFFF;">
        <MudContainer MaxWidth="MaxWidth.ExtraLarge">
            <MudText Typo="Typo.h4" Align="Align.Center" Class="mb-8" Style="font-weight: 500;">
                核心特性
            </MudText>
            <MudGrid>
                <MudItem xs="12" md="4">
                    <MudCard Elevation="2" Class="pa-6" Style="height: 100%;">
                        <MudCardContent Class="text-center">
                            <MudIcon Icon="@Icons.Material.Filled.AccountCircle" 
                                    Size="Size.Large" 
                                    Color="Color.Primary" 
                                    Class="mb-4" />
                            <MudText Typo="Typo.h6" Class="mb-3">多租户支持</MudText>
                            <MudText Typo="Typo.body2" Color="Color.Secondary">
                                基于 Keycloak 的 OpenID Connect 认证，每个用户独立配置自己的 MCP 服务和小智连接
                            </MudText>
                        </MudCardContent>
                    </MudCard>
                </MudItem>
                <MudItem xs="12" md="4">
                    <MudCard Elevation="2" Class="pa-6" Style="height: 100%;">
                        <MudCardContent Class="text-center">
                            <MudIcon Icon="@Icons.Material.Filled.Extension" 
                                    Size="Size.Large" 
                                    Color="Color.Secondary" 
                                    Class="mb-4" />
                            <MudText Typo="Typo.h6" Class="mb-3">灵活的服务绑定</MudText>
                            <MudText Typo="Typo.body2" Color="Color.Secondary">
                                将不同的 MCP 服务绑定到指定的小智节点，支持多种认证方式和配置模式
                            </MudText>
                        </MudCardContent>
                    </MudCard>
                </MudItem>
                <MudItem xs="12" md="4">
                    <MudCard Elevation="2" Class="pa-6" Style="height: 100%;">
                        <MudCardContent Class="text-center">
                            <MudIcon Icon="@Icons.Material.Filled.CloudSync" 
                                    Size="Size.Large" 
                                    Color="Color.Tertiary" 
                                    Class="mb-4" />
                            <MudText Typo="Typo.h6" Class="mb-3">现代化技术栈</MudText>
                            <MudText Typo="Typo.body2" Color="Color.Secondary">
                                使用 .NET 9、Blazor WebAssembly、MudBlazor UI 和 .NET Aspire 云原生编排
                            </MudText>
                        </MudCardContent>
                    </MudCard>
                </MudItem>
            </MudGrid>
        </MudContainer>
        </div>

        <!-- Architecture Section -->
        <div id="architecture" Style="padding: 80px 0; background: #FAFAFA;">
        <MudContainer MaxWidth="MaxWidth.ExtraLarge">
            <MudText Typo="Typo.h4" Align="Align.Center" Class="mb-8" Style="font-weight: 500;">
                架构设计
            </MudText>
            <MudGrid Justify="Justify.Center">
                <MudItem xs="12" md="8">
                    <MudCard Elevation="2" Class="pa-6">
                        <MudCardContent>
                            <MudList T="string">
                                <MudListItem T="string" Icon="@Icons.Material.Filled.CheckCircle" IconColor="Color.Success">
                                    <MudText>领域驱动设计 (DDD) + 仓储模式 (Repository Pattern)</MudText>
                                </MudListItem>
                                <MudListItem T="string" Icon="@Icons.Material.Filled.CheckCircle" IconColor="Color.Success">
                                    <MudText>前后端分离，API 与 Web UI 独立部署</MudText>
                                </MudListItem>
                                <MudListItem T="string" Icon="@Icons.Material.Filled.CheckCircle" IconColor="Color.Success">
                                    <MudText>支持 PostgreSQL 和 SQLite 多数据库</MudText>
                                </MudListItem>
                                <MudListItem T="string" Icon="@Icons.Material.Filled.CheckCircle" IconColor="Color.Success">
                                    <MudText>Entity Framework Core 自动迁移</MudText>
                                </MudListItem>
                                <MudListItem T="string" Icon="@Icons.Material.Filled.CheckCircle" IconColor="Color.Success">
                                    <MudText>完整的国际化 (i18n) 支持</MudText>
                                </MudListItem>
                            </MudList>
                        </MudCardContent>
                    </MudCard>
                </MudItem>
            </MudGrid>
        </MudContainer>
        </div>

        <!-- Community Section -->
        <div id="community" Style="padding: 80px 0; background: #FFFFFF;">
        <MudContainer MaxWidth="MaxWidth.ExtraLarge">
            <MudText Typo="Typo.h4" Align="Align.Center" Class="mb-8" Style="font-weight: 500;">
                加入创客社区
            </MudText>
            <MudGrid Justify="Justify.Center">
                <MudItem xs="12" md="10">
                    <MudPaper Elevation="2" Class="pa-8" Style="background: linear-gradient(135deg, #1976D2 0%, #1565C0 100%);">
                        <div class="text-center">
                            <MudText Typo="Typo.h5" Style="color: #FFFFFF; margin-bottom: 2rem;">
                                关注绿荫阿广，一起探索 AI 与硬件创客世界
                            </MudText>
                            <MudGrid>
                                <MudItem xs="12" sm="6" md="3">
                                    <MudButton Href="https://github.com/maker-community" 
                                              Target="_blank"
                                              Variant="Variant.Filled" 
                                              Color="Color.Surface"
                                              FullWidth="true"
                                              StartIcon="@Icons.Custom.Brands.GitHub"
                                              Style="color: #1976D2;">
                                        GitHub 社区
                                    </MudButton>
                                </MudItem>
                                <MudItem xs="12" sm="6" md="3">
                                    <MudButton Href="https://space.bilibili.com/25228512" 
                                              Target="_blank"
                                              Variant="Variant.Filled" 
                                              Color="Color.Surface"
                                              FullWidth="true"
                                              StartIcon="@Icons.Material.Filled.VideoLibrary"
                                              Style="color: #1976D2;">
                                        B站主页
                                    </MudButton>
                                </MudItem>
                                <MudItem xs="12" sm="6" md="3">
                                    <MudButton Href="https://github.com/maker-community/verdure-mcp-for-xiaozhi" 
                                              Target="_blank"
                                              Variant="Variant.Filled" 
                                              Color="Color.Surface"
                                              FullWidth="true"
                                              StartIcon="@Icons.Material.Filled.Code"
                                              Style="color: #1976D2;">
                                        项目源码
                                    </MudButton>
                                </MudItem>
                                <MudItem xs="12" sm="6" md="3">
                                    <MudButton Variant="Variant.Filled" 
                                              Color="Color.Surface"
                                              FullWidth="true"
                                              StartIcon="@Icons.Material.Filled.Group"
                                              Style="color: #1976D2;"
                                              OnClick="@(() => _showQQGroup = true)">
                                        QQ交流群
                                    </MudButton>
                                </MudItem>
                            </MudGrid>
                            @if (_showQQGroup)
                            {
                                <MudAlert Severity="Severity.Info" Class="mt-4" Style="background-color: rgba(255,255,255,0.95);">
                                    <MudText Typo="Typo.body1" Style="color: #1565C0; font-weight: 600;">
                                        绿荫DIY硬件交流群：1023487000
                                    </MudText>
                                </MudAlert>
                            }
                        </div>
                    </MudPaper>
                </MudItem>
            </MudGrid>
        </MudContainer>
        </div>

        <!-- Getting Started Section -->
        <div Style="padding: 80px 0 100px; background: #FAFAFA;">
        <MudContainer MaxWidth="MaxWidth.ExtraLarge">
            <MudText Typo="Typo.h4" Align="Align.Center" Class="mb-8" Style="font-weight: 500;">
                快速开始
            </MudText>
            <MudGrid Justify="Justify.Center">
                <MudItem xs="12" md="8">
                    <MudCard Elevation="2">
                        <MudCardContent Class="pa-6">
                            <MudTimeline TimelineOrientation="TimelineOrientation.Vertical" TimelinePosition="TimelinePosition.Start">
                                <MudTimelineItem Color="Color.Primary" Size="Size.Small">
                                    <MudText Typo="Typo.h6" Class="mb-2">1. 登录系统</MudText>
                                    <MudText Typo="Typo.body2" Color="Color.Secondary">
                                        使用 Keycloak 账号登录平台
                                    </MudText>
                                </MudTimelineItem>
                                <MudTimelineItem Color="Color.Secondary" Size="Size.Small">
                                    <MudText Typo="Typo.h6" Class="mb-2">2. 配置小智连接</MudText>
                                    <MudText Typo="Typo.body2" Color="Color.Secondary">
                                        添加你的小智 AI 服务器地址
                                    </MudText>
                                </MudTimelineItem>
                                <MudTimelineItem Color="Color.Tertiary" Size="Size.Small">
                                    <MudText Typo="Typo.h6" Class="mb-2">3. 创建 MCP 服务</MudText>
                                    <MudText Typo="Typo.body2" Color="Color.Secondary">
                                        配置 MCP 服务，支持多种认证方式
                                    </MudText>
                                </MudTimelineItem>
                                <MudTimelineItem Color="Color.Success" Size="Size.Small">
                                    <MudText Typo="Typo.h6" Class="mb-2">4. 绑定服务到节点</MudText>
                                    <MudText Typo="Typo.body2" Color="Color.Secondary">
                                        将 MCP 服务绑定到小智节点，开始使用
                                    </MudText>
                                </MudTimelineItem>
                            </MudTimeline>
                        </MudCardContent>
                    </MudCard>
                </MudItem>
            </MudGrid>
        </MudContainer>
        </div>

@code {
    private bool _showQQGroup = false;
}
