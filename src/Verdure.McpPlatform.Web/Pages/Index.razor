@page "/"
@layout LandingLayout
@using Microsoft.Extensions.Localization
@using Verdure.McpPlatform.Web.Resources
@inject IStringLocalizer<SharedResources> Loc

<PageTitle>@Loc["AppTitle"]</PageTitle>

<!-- Hero Section - 全宽大气背景 -->
        <div Style="background: linear-gradient(135deg, #1976D2 0%, #1565C0 100%); padding: 120px 0 100px;">
            <MudContainer MaxWidth="MaxWidth.ExtraLarge">
            <MudGrid Justify="Justify.Center">
                <MudItem xs="12" md="10" lg="8">
                    <div class="text-center">
                        <img src="app-logo.png" 
                             alt="Verdure MCP Platform Logo" 
                             style="width: 120px; height: 120px; margin-bottom: 1.5rem; filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));" />
                        <MudText Typo="Typo.h2" Class="mb-4" Style="font-weight: 600; color: #FFFFFF;">
                            Verdure MCP Platform
                        </MudText>
                        <MudText Typo="Typo.h5" Class="mb-6" Style="color: rgba(255,255,255,0.9);">
                            @Loc["OpenSourceMultiTenantPlatform"]
                        </MudText>
                        <MudText Typo="Typo.body1" Class="mb-8" Style="max-width: 700px; margin: 0 auto; color: rgba(255,255,255,0.85); font-size: 1.1rem;">
                            @Loc["LandingPageSubtitle"]
                        </MudText>
                        <AuthorizeView>
                            <Authorized>
                                <div class="d-flex justify-center gap-4 flex-wrap mb-4">
                                    <MudButton Href="/dashboard" 
                                              Variant="Variant.Filled" 
                                              Size="Size.Large"
                                              Style="background-color: #FFFFFF; color: #1976D2; font-weight: 600; padding: 12px 32px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);"
                                              StartIcon="@Icons.Material.Filled.Dashboard">
                                        @Loc["EnterDashboard"]
                                    </MudButton>
                                    <MudButton Href="https://github.com/maker-community/verdure-mcp-for-xiaozhi" 
                                              Target="_blank"
                                              Variant="Variant.Outlined" 
                                              Size="Size.Large"
                                              Style="border-color: rgba(255,255,255,0.8); border-width: 2px; color: #FFFFFF; font-weight: 600; padding: 12px 32px;"
                                              StartIcon="@Icons.Material.Filled.Code">
                                        @Loc["ViewSourceCode"]
                                    </MudButton>
                                </div>
                            </Authorized>
                            <NotAuthorized>
                                <div class="d-flex justify-center gap-4 flex-wrap mb-4">
                                    <MudButton Href="authentication/login" 
                                              Variant="Variant.Filled" 
                                              Size="Size.Large"
                                              Style="background-color: #FFFFFF; color: #1976D2; font-weight: 600; padding: 12px 32px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);"
                                              StartIcon="@Icons.Material.Filled.Login">
                                        @Loc["GetStarted"]
                                    </MudButton>
                                    <MudButton Href="https://github.com/maker-community/verdure-mcp-for-xiaozhi" 
                                              Target="_blank"
                                              Variant="Variant.Outlined" 
                                              Size="Size.Large"
                                              Style="border-color: rgba(255,255,255,0.8); border-width: 2px; color: #FFFFFF; font-weight: 600; padding: 12px 32px;"
                                              StartIcon="@Icons.Material.Filled.Code">
                                        @Loc["ViewSourceCode"]
                                    </MudButton>
                                </div>
                            </NotAuthorized>
                        </AuthorizeView>
                    </div>
                </MudItem>
            </MudGrid>
        </MudContainer>
        </div>

        <!-- Features Section -->
        <div id="features" Style="padding: 80px 0; background: #FFFFFF;">
        <MudContainer MaxWidth="MaxWidth.ExtraLarge">
            <MudText Typo="Typo.h4" Align="Align.Center" Class="mb-8" Style="font-weight: 500;">
                @Loc["CoreFeatures"]
            </MudText>
            <MudGrid>
                <MudItem xs="12" md="4">
                    <MudCard Elevation="2" Class="pa-6" Style="height: 100%;">
                        <MudCardContent Class="text-center">
                            <MudIcon Icon="@Icons.Material.Filled.AccountCircle" 
                                    Size="Size.Large" 
                                    Color="Color.Primary" 
                                    Class="mb-4" />
                            <MudText Typo="Typo.h6" Class="mb-3">@Loc["MultiTenantSupport"]</MudText>
                            <MudText Typo="Typo.body2" Color="Color.Secondary">
                                @Loc["MultiTenantDescription"]
                            </MudText>
                        </MudCardContent>
                    </MudCard>
                </MudItem>
                <MudItem xs="12" md="4">
                    <MudCard Elevation="2" Class="pa-6" Style="height: 100%;">
                        <MudCardContent Class="text-center">
                            <MudIcon Icon="@Icons.Material.Filled.Extension" 
                                    Size="Size.Large" 
                                    Color="Color.Secondary" 
                                    Class="mb-4" />
                            <MudText Typo="Typo.h6" Class="mb-3">@Loc["FlexibleServiceBinding"]</MudText>
                            <MudText Typo="Typo.body2" Color="Color.Secondary">
                                @Loc["FlexibleServiceBindingDescription"]
                            </MudText>
                        </MudCardContent>
                    </MudCard>
                </MudItem>
                <MudItem xs="12" md="4">
                    <MudCard Elevation="2" Class="pa-6" Style="height: 100%;">
                        <MudCardContent Class="text-center">
                            <MudIcon Icon="@Icons.Material.Filled.CloudSync" 
                                    Size="Size.Large" 
                                    Color="Color.Tertiary" 
                                    Class="mb-4" />
                            <MudText Typo="Typo.h6" Class="mb-3">@Loc["ModernTechStack"]</MudText>
                            <MudText Typo="Typo.body2" Color="Color.Secondary">
                                @Loc["ModernTechStackDescription"]
                            </MudText>
                        </MudCardContent>
                    </MudCard>
                </MudItem>
            </MudGrid>
        </MudContainer>
        </div>

        <!-- Architecture Section -->
        <div id="architecture" Style="padding: 80px 0; background: #FAFAFA;">
        <MudContainer MaxWidth="MaxWidth.ExtraLarge">
            <MudText Typo="Typo.h4" Align="Align.Center" Class="mb-8" Style="font-weight: 500;">
                @Loc["ArchitectureDesign"]
            </MudText>
            <MudGrid Justify="Justify.Center">
                <MudItem xs="12" md="8">
                    <MudCard Elevation="2" Class="pa-6">
                        <MudCardContent>
                            <MudList T="string">
                                <MudListItem T="string" Icon="@Icons.Material.Filled.CheckCircle" IconColor="Color.Success">
                                    <MudText>@Loc["DddAndRepositoryPattern"]</MudText>
                                </MudListItem>
                                <MudListItem T="string" Icon="@Icons.Material.Filled.CheckCircle" IconColor="Color.Success">
                                    <MudText>@Loc["FrontendBackendSeparation"]</MudText>
                                </MudListItem>
                                <MudListItem T="string" Icon="@Icons.Material.Filled.CheckCircle" IconColor="Color.Success">
                                    <MudText>@Loc["MultiDatabaseSupport"]</MudText>
                                </MudListItem>
                                <MudListItem T="string" Icon="@Icons.Material.Filled.CheckCircle" IconColor="Color.Success">
                                    <MudText>@Loc["EntityFrameworkAutoMigration"]</MudText>
                                </MudListItem>
                                <MudListItem T="string" Icon="@Icons.Material.Filled.CheckCircle" IconColor="Color.Success">
                                    <MudText>@Loc["CompleteI18nSupport"]</MudText>
                                </MudListItem>
                            </MudList>
                        </MudCardContent>
                    </MudCard>
                </MudItem>
            </MudGrid>
        </MudContainer>
        </div>

        <!-- Community Section -->
        <div id="community" Style="padding: 80px 0; background: #FFFFFF;">
        <MudContainer MaxWidth="MaxWidth.ExtraLarge">
            <MudText Typo="Typo.h4" Align="Align.Center" Class="mb-8" Style="font-weight: 500;">
                @Loc["JoinMakerCommunity"]
            </MudText>
            <MudGrid Justify="Justify.Center">
                <MudItem xs="12" md="10">
                    <MudPaper Elevation="2" Class="pa-8" Style="background: linear-gradient(135deg, #1976D2 0%, #1565C0 100%);">
                        <div class="text-center">
                            <MudText Typo="Typo.h5" Style="color: #FFFFFF; margin-bottom: 2rem;">
                                @Loc["FollowLvYinAGang"]
                            </MudText>
                            <MudGrid>
                                <MudItem xs="12" sm="6" md="3">
                                    <MudButton Href="https://github.com/maker-community" 
                                              Target="_blank"
                                              Variant="Variant.Filled" 
                                              FullWidth="true"
                                              StartIcon="@Icons.Custom.Brands.GitHub"
                                              Style="background-color: #FFFFFF; color: #1976D2; font-weight: 600; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
                                        @Loc["GitHubCommunity"]
                                    </MudButton>
                                </MudItem>
                                <MudItem xs="12" sm="6" md="3">
                                    <MudButton Href="https://space.bilibili.com/25228512" 
                                              Target="_blank"
                                              Variant="Variant.Filled" 
                                              FullWidth="true"
                                              StartIcon="@Icons.Material.Filled.VideoLibrary"
                                              Style="background-color: #FFFFFF; color: #1976D2; font-weight: 600; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
                                        @Loc["BilibiliHomepage"]
                                    </MudButton>
                                </MudItem>
                                <MudItem xs="12" sm="6" md="3">
                                    <MudButton Href="https://github.com/maker-community/verdure-mcp-for-xiaozhi" 
                                              Target="_blank"
                                              Variant="Variant.Filled" 
                                              FullWidth="true"
                                              StartIcon="@Icons.Material.Filled.Code"
                                              Style="background-color: #FFFFFF; color: #1976D2; font-weight: 600; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
                                        @Loc["ProjectSource"]
                                    </MudButton>
                                </MudItem>
                                <MudItem xs="12" sm="6" md="3">
                                    <MudButton Variant="Variant.Filled" 
                                              FullWidth="true"
                                              StartIcon="@Icons.Material.Filled.Group"
                                              Style="background-color: #FFFFFF; color: #1976D2; font-weight: 600; box-shadow: 0 4px 12px rgba(0,0,0,0.15);"
                                              OnClick="@(() => _showQQGroup = true)">
                                        @Loc["QQCommunicationGroup"]
                                    </MudButton>
                                </MudItem>
                            </MudGrid>
                            @if (_showQQGroup)
                            {
                                <MudAlert Severity="Severity.Info" Class="mt-4" Style="background-color: rgba(255,255,255,0.95);">
                                    <MudText Typo="Typo.body1" Style="color: #1565C0; font-weight: 600;">
                                        @Loc["QQGroupNumber"]
                                    </MudText>
                                </MudAlert>
                            }
                        </div>
                    </MudPaper>
                </MudItem>
            </MudGrid>
        </MudContainer>
        </div>

        <!-- Support Section -->
        <div id="support" Style="padding: 80px 0; background: #FFFFFF;">
        <MudContainer MaxWidth="MaxWidth.ExtraLarge">
            <MudPaper Elevation="2" Class="pa-8" Style="background: linear-gradient(135deg, #E3F2FD 0%, #FFFFFF 100%); border: 1px solid rgba(25, 118, 210, 0.2);">
                <MudGrid AlignItems="AlignItems.Center">
                    <MudItem xs="12" md="8">
                        <MudText Typo="Typo.h4" Class="mb-3" Style="font-weight: 600; color: #1565C0;">
                            @Loc["Support_CtaTitle"]
                        </MudText>
                        <MudText Typo="Typo.body1" Class="mb-4" Style="color: #424242; max-width: 640px;">
                            @Loc["Support_CtaDesc"]
                        </MudText>
                        <div class="d-flex align-center gap-1">
                            <MudIcon Icon="@Icons.Material.Filled.Favorite" Color="Color.Error" />
                            <MudIcon Icon="@Icons.Material.Filled.Favorite" Color="Color.Error" />
                            <MudIcon Icon="@Icons.Material.Filled.Favorite" Color="Color.Error" />
                            <MudText Typo="Typo.body2" Style="color: #616161; margin-left: 6px;">
                                @Loc["Support_Title"]
                            </MudText>
                        </div>
                    </MudItem>
                    <MudItem xs="12" md="4" Class="text-center">
                        <MudButton Href="/support" Variant="Variant.Filled" Color="Color.Primary" Size="Size.Large"
                                  StartIcon="@Icons.Material.Filled.Favorite"
                                  Style="font-weight: 600; padding: 12px 28px;">
                            @Loc["Support_CtaButton"]
                        </MudButton>
                    </MudItem>
                </MudGrid>
            </MudPaper>
        </MudContainer>
        </div>

        <!-- Getting Started Section -->
        <div Style="padding: 80px 0 100px; background: #FAFAFA;">
        <MudContainer MaxWidth="MaxWidth.ExtraLarge">
            <MudText Typo="Typo.h4" Align="Align.Center" Class="mb-8" Style="font-weight: 500;">
                @Loc["QuickStart"]
            </MudText>
            <MudGrid Justify="Justify.Center">
                <MudItem xs="12" md="8">
                    <MudCard Elevation="2">
                        <MudCardContent Class="pa-6">
                            <MudTimeline TimelineOrientation="TimelineOrientation.Vertical" TimelinePosition="TimelinePosition.Start">
                                <MudTimelineItem Color="Color.Primary" Size="Size.Small">
                                    <MudText Typo="Typo.h6" Class="mb-2">@Loc["Step1LoginSystem"]</MudText>
                                    <MudText Typo="Typo.body2" Color="Color.Secondary">
                                        @Loc["Step1LoginSystemDescription"]
                                    </MudText>
                                </MudTimelineItem>
                                <MudTimelineItem Color="Color.Secondary" Size="Size.Small">
                                    <MudText Typo="Typo.h6" Class="mb-2">@Loc["Step2ConfigureXiaozhi"]</MudText>
                                    <MudText Typo="Typo.body2" Color="Color.Secondary">
                                        @Loc["Step2ConfigureXiaozhiDescription"]
                                    </MudText>
                                </MudTimelineItem>
                                <MudTimelineItem Color="Color.Tertiary" Size="Size.Small">
                                    <MudText Typo="Typo.h6" Class="mb-2">@Loc["Step3CreateMcpService"]</MudText>
                                    <MudText Typo="Typo.body2" Color="Color.Secondary">
                                        @Loc["Step3CreateMcpServiceDescription"]
                                    </MudText>
                                </MudTimelineItem>
                                <MudTimelineItem Color="Color.Success" Size="Size.Small">
                                    <MudText Typo="Typo.h6" Class="mb-2">@Loc["Step4BindService"]</MudText>
                                    <MudText Typo="Typo.body2" Color="Color.Secondary">
                                        @Loc["Step4BindServiceDescription"]
                                    </MudText>
                                </MudTimelineItem>
                            </MudTimeline>
                        </MudCardContent>
                    </MudCard>
                </MudItem>
            </MudGrid>
        </MudContainer>
        </div>

@code {
    private bool _showQQGroup = false;
}
