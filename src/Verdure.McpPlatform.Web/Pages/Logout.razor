@page "/logout"
@inject IAuthenticationService AuthService
@inject NavigationManager Navigation
@inject ISnackbar Snackbar

<PageTitle>Logout - Verdure MCP Platform</PageTitle>

<div class="d-flex justify-center align-center" style="min-height: 80vh;">
    <MudCard Elevation="4" Style="max-width: 400px; width: 100%;">
        <MudCardContent Class="pa-8 text-center">
            <MudIcon Icon="@Icons.Material.Filled.Logout" Size="Size.Large" Color="Color.Primary" Class="mb-4" />
            <MudText Typo="Typo.h5" Class="mb-2">Logging Out...</MudText>
            <MudProgressCircular Color="Color.Primary" Indeterminate="true" />
        </MudCardContent>
    </MudCard>
</div>

@code {
    protected override async Task OnInitializedAsync()
    {
        await Task.Delay(500); // Brief delay for visual feedback
        await AuthService.LogoutAsync();
        Snackbar.Add("You have been logged out", Severity.Info);
        Navigation.NavigateTo("/");
    }
}
